(this["webpackJsonpforme-front"]=this["webpackJsonpforme-front"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),i=(n(14),n(2)),c=n(3),s=n(1),h=n(5),u=n(4),m=(n(15),n(6)),d=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={token:"",menuStatus:0},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.setState({menuStatus:0})}},"Login"),r.a.createElement("button",{onClick:function(){return e.setState({menuStatus:1})}},"Register"),0===this.state.menuStatus?r.a.createElement(p,{handler:this.props.handler}):r.a.createElement(f,{handler:this.props.handler}))}}]),n}(r.a.Component),p=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.state={name:"",password:""},a}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={name:this.state.name,password:this.state.password};fetch("https://hanoelleb-forme.herokuapp.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n),json:!0}).then((function(e){return e.json()})).then((function(e){t.props.handler(e.token,e.id)}))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,placeholder:"name"}),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleChange,placeholder:"password"}),r.a.createElement("input",{type:"submit",value:"Login"}))}}]),n}(r.a.Component),f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.state={name:"",password:"",email:""},a}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={name:this.state.name,password:this.state.password,email:this.state.email};fetch("https://hanoelleb-forme.herokuapp.com/api/auth/register",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n),json:!0}).then((function(e){return e.json()})).then((function(e){t.props.handler(e.token,e.id)}))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,placeholder:"name"}),r.a.createElement("input",{type:"email",name:"email",onChange:this.handleChange,placeholder:"email"}),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleChange,placeholder:"password"}),r.a.createElement("input",{type:"submit",value:"Create Account"}))}}]),n}(r.a.Component),b=d,g=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.state={open_form:!1,length:0,description:"",workouts:[],counter:0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t="https://hanoelleb-forme.herokuapp.com/api/exercises/"+this.props.id+"/?token="+this.props.token;fetch(t,{method:"GET",json:!0}).then((function(e){return e.json()})).then((function(t){var n=e.state.workouts;t.logs.forEach((function(e){return n.push(e)})),e.setState({workouts:n})}))}},{key:"handleChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={length:this.state.length,description:this.state.description},a="http://hanoelleb-forme.herokuapp.com/api/exercises/"+this.props.id+"/create?token="+this.props.token;console.log(a),console.log(n),fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n),json:!0}).then((function(e){var n="https://hanoelleb-forme.herokuapp.com/api/exercises/"+t.props.id+"/?token="+t.props.token;return fetch(n,{method:"GET",json:!0}).then((function(e){return e.json()})).then((function(e){var n=[];e.logs.forEach((function(e){return n.push(e)})),t.setState({workouts:n})}))}))}},{key:"renderLog",value:function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.length),r.a.createElement("td",null,e.description))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Log"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Length"),r.a.createElement("th",null,"Description"))),r.a.createElement("tbody",null,this.state.workouts.map((function(t){return e.renderLog(t)})))),this.state.open_form?r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("button",{onClick:function(){return e.setState({open_form:!1,length:0,description:""})}},"Cancel"),r.a.createElement("input",{type:"number",name:"length",onChange:this.handleChange,placeholder:"Length in minutes"}),r.a.createElement("textarea",{name:"description",onChange:this.handleChange,placeholder:"Description (cardio, strength, yoga etc..."}),r.a.createElement("input",{type:"submit",value:"Add"})):r.a.createElement("button",{onClick:function(){return e.setState({open_form:!0})}},"+Workout"))}}]),n}(r.a.Component),v=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).tokenHandler=a.tokenHandler.bind(Object(s.a)(a)),a.logout=a.logout.bind(Object(s.a)(a)),a.state={token:"",id:""},a}return Object(c.a)(n,[{key:"tokenHandler",value:function(e,t){this.setState({token:e,id:t})}},{key:"logout",value:function(){this.setState({token:"",id:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h2",null,"Forme"),""===this.state.token?r.a.createElement(b,{handler:this.tokenHandler}):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.logout},"Logout"),r.a.createElement(g,{token:this.state.token,id:this.state.id}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.b62861dd.chunk.js.map